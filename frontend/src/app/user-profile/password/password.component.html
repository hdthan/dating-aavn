<!-- form Change-Password -------------->
<form class="form-horizontal" #user="ngForm" (ngSubmit)="onSave(user, $event)">
<fieldset>
<!-- Current-Password input-->
<div class="form-group">
  <label class="col-md-4 col-sm-4 col-xs-4 control-label" for="CurrPass">Current Password</label>
  <div class="col-md-4 col-sm-4 col-xs-4">
    <input class="form-control input-md" type="password" placeholder="" id="CurrPass" name="password" (focus)="refreshHandler($event)"
        [ngModel]="confirmUser.password" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" required  #password ="ngModel" />
        <small [ngClass]="{'error': !password.valid && !(password.pristine && !user.submitted) }" class="alert alert-danger">
            <div [hidden]="!password.hasError('required')">Password is required</div>
            <div [hidden]="!password.hasError('pattern')">Mininum 8 character, at least one letter, one number</div>
        </small>
  </div>
</div>

<!-- New-Password input-->
<div class="form-group">
  <label class="col-md-4 col-sm-4 col-xs-4 control-label" for="NewPass">New Password</label>
  <div class="col-md-4 col-sm-4 col-xs-4 control-label">
    <input class="form-control input-md input-xs" type="password" name="confirmPassword" placeholder="" id="NewPass" (focus)="refreshHandler($event)"
        [ngModel]="confirmUser.confirmPassword" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" reverse="true" required #confirmPassword="ngModel" validateEqual="newPassRepeat"/>
        <small [ngClass]="{'error': !confirmPassword.valid && !(confirmPassword.pristine && !user.submitted) }" class="alert alert-danger">
            <div [hidden]="!confirmPassword.hasError('required')">This field is required</div>
            <div [hidden]="!confirmPassword.hasError('pattern')">Mininum 8 character, at least one letter, one number</div>
        </small>
  </div>
</div>

<!-- New-Password-Repeat input-->
<div class="form-group">
  <label class="col-md-4 col-sm-4 col-xs-4 control-label" for="NewPassRepeat">Confirm Password</label>
  <div class="col-md-4 col-sm-4 col-xs-4">
    <input class="form-control input-md input-xs" type="password" name="newPassRepeat" placeholder="" id="NewPassRepeat" (focus)="refreshHandler($event)"
        [ngModel]="confirmUser.NewPassRepeat" required validateEqual="confirmPassword" reverse="false" #NewPassRepeat="ngModel" />
    <small [ngClass]="{'error': !NewPassRepeat.valid && !(NewPassRepeat.pristine && !user.submitted)}" class="alert alert-danger">
        Password mismatch
    </small>
    <!-- <small [ngClass]="{'error': test === 'true'}" class="text-danger">
            Change password success
    </small> -->
    <small [ngClass]="{'success': test === 'true'}" class="alert alert-success top-margin">
            Change password success
    </small>
    <small [ngClass]="{'error': test === 'fail'}" class="alert alert-danger top-margin">
            Current password is wrong
    </small>
  </div>
</div>

<!-- confirm password -->

<!-- Button (Save-Cancel) -->
<div class="form-group">
  <div class="button-group">
    <div class="col-md-3 col-sm-3 col-xs-3 hidden-md"></div>
    <button id="bSave" name="bSave" class="col-md-3 col-sm-3 col-xs-3 btn btn-default" [disabled]="!password.valid || !confirmPassword.valid || !NewPassRepeat.valid"> Save </button>
    <button id="bCancel" name="bCancel" class="col-md-3 col-sm-3 col-xs-3 btn btn-default" [routerLink]="['/user-page']"> Cancel</button>
    <div class="col-md-3 col-sm-3 col-xs-3 hidden-md"></div>
  </div>
</div>
<!-- ------------------------->

</fieldset>
</form>
